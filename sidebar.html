<div class="sidebar-top">
   <div class="sidebar-top-top">
      <img id="sidebarProfilePic" src="../assets/cmc-guides.png" alt="CMC Guides Logo">
   </div>
   <div class="sidebar-top-bottom">
    <div class="sidebar-top-bottom-top">
     <!-- Username (only if logged in) -->
   <div style="display: flex; flex-direction: row; justify-content: center; align-items: center; margin-right: 86px;">
      <div id="sidebarImg" style="width: 30px; height: 30px; border-radius: 50%;"></div>
     <p id="sidebarName" style="text-align: initial; font-size: 1.2rem;">Name</p>
   </div>
     <a href="../settings.html" style="padding: 0; margin: 0; text-align: unset; height: 39px; width: 50px; display: inline-flex; align-items: center; justify-content: center;">
  <span class="menu-icon material-icons" style="font-size: 38px; color: #ccc;">settings</span>
</a>
   </div>
    <p id="sidebarUsername" style="text-align: initial; font-size: 14px; color: #ccc; margin: 8px 10px 10px 12px;">Username</p>
</div>
<hr>
<div class="sidebar-bottom">
<a class="sidebar-link" href="rank-sellers.html">Rank Sellers</a>
<a class="sidebar-link" href="unicode.html">Unicode</a>
<a class="sidebar-link" href="journey-guides.html">Guides</a>
<a class="sidebar-link" href="bankInterestV2.html">Bank Interest Timer (Beta)</a>
<a class="sidebar-link" href="leaderboards.html">Collection Leaderboards</a>
<a class="sidebar-link" href="https://craftersmc.wiki.gg/wiki/">CraftersMC Wiki</a>
<a class="sidebar-link" href="https://craftersmc.net/">CraftersMC Website</a>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const profileImg = document.getElementById("sidebarProfilePic");
    const usernameText = document.getElementById("sidebarUsername");

    try {
      const user = JSON.parse(localStorage.getItem("user"));
      if (!user || !user.email) {
        profileImg.src = "assets/cmc-guides.png";
        usernameText.innerHTML = "";
        
      } return;

      const userSettings = JSON.parse(localStorage.getItem(`userSettings_${user.email}`)) || {};

      if (userSettings.profilePic) {
        profileImg.src = userSettings.profilePic;
      }

      if (userSettings.username) {
        usernameText.textContent = userSettings.username;
      }
    } catch (err) {
      // Use default image and don't show username
      
    }
  });
</script>
