<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" href="assets/cmc-icon.png" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="CraftersMC Leaderboards">
    <meta property="og:description"
        content="Explore all types of leaderboards here! Whether you want to find out positions or collections, all data is available here!">
    <meta property="og:image" content="https://cdn.discordapp.com/attachments/1416722412032229457/1423270231740256256/Screenshot_20250524-2112033.png?ex=68dfb332&is=68de61b2&hm=809b90de9e5b77d767b558b836bb6b6f1cf3bf58f6e45a168400aa8654409a4c&">
    <meta property="og:url" content="https://craftersmc-guides.pages.dev/leaderboards">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#007bff">
    <title>CraftersMC Leaderboards</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="js/script.js" defer></script>
</head>

<body>
    <div id="loader">
        <div></div>
        <div></div>
        <div></div>
    </div>

    <!-- Profile Card (drop this anywhere inside <body>) -->
<div id="top-right-ui-container">
  <div id="profile-card-container"></div>
</div>

<style>
#top-right-ui-container {
  position: fixed; top: 80px; right: 20px; z-index: 1001;
  display: flex; flex-direction: column; align-items: flex-end; gap: 10px;
}
.profile-card {
  display: flex; align-items: center; gap: 10px;
  background-color: rgba(0,0,0,0.5); padding: 8px 12px;
  border-radius: 50px; color: white; text-decoration: none;
  transition: background-color 0.3s;
}
.profile-card:hover { background-color: rgba(0,0,0,0.8); }
.profile-card-avatar { width: 32px; height: 32px; border-radius: 50%; }
.profile-card-name { font-weight: 500; font-size: 14px; }
.dev-label { color: #ff4d4d; font-weight: bold; margin-left: 5px; }
@media (max-width: 768px) {
  #top-right-ui-container { top: 65px; right: 10px; gap: 8px; }
  .profile-card { padding: 4px 8px; }
  .profile-card-avatar { width: 28px; height: 28px; }
  .profile-card-name { font-size: 12px; }
}
</style>

<script>
function getCookie(name) {
  return document.cookie.split('; ').reduce((r, v) => {
    const parts = v.split('=');
    return parts[0] === name ? decodeURIComponent(parts[1]) : r
  }, '');
}
async function loadProfileCard() {
  const storedUser = getCookie("discordUser");
  const profileContainer = document.getElementById("profile-card-container");
  let devIds = [];
  try {
    const response = await fetch('/devs.txt');
    if (response.ok) {
      const text = await response.text();
      devIds = text.split('\n').map(id => id.trim()).filter(id => id);
    }
  } catch {}
  if (storedUser) {
    const user = JSON.parse(storedUser);
    const displayName = user.global_name || user.username;
    const isDevUser = devIds.includes(user.id);
    profileContainer.innerHTML = `
      <a href="/profile" class="profile-card">
        <img src="https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png" class="profile-card-avatar">
        <span class="profile-card-name">${displayName}${isDevUser ? ' <span class="dev-label">[DEV]</span>' : ''}</span>
      </a>`;
  } else {
    profileContainer.innerHTML = '';
  }
}
document.addEventListener("DOMContentLoaded", loadProfileCard);
</script>


    <!-- This is the main selection view, shown on first visit -->
    <div id="main-selection-view">
        <div class="leaderboard-interface-background"></div>
        <div class="top"></div>
        <div class="sidebar" id="sidebar"></div>
        <div id="sidebar-overlay" onclick="toggleSidebar()"></div>
        <span class="material-icons" id="scrollToTopBtn">north</span>
        <div class="gap"></div>
        <div class="event-log-card-container">
            <div class="event-log-card">
                <img src="Backgrounds/IMG_4504.webp" alt="Collections Leaderboards"
                    onerror="this.onerror=null;this.src='https://placehold.co/600x400/222/fff?text=Collections';">
                <div class="event-log-card-content">
                    <h3>Collections Leaderboards</h3>
                    <p>Find out who is at what ranking and how much collection they have!</p>
                    <button onclick="window.location.href = '/collections-leaderboards.html';">View</button>
                </div>
            </div>
            <div class="event-log-card">
                <img src="Backgrounds/lobby.webp" alt="Playtime Leaderboard"
                    onerror="this.onerror=null;this.src='https://placehold.co/600x400/222/fff?text=Playtime';">
                <div class="event-log-card-content">
                    <h3>Playtime Leaderboard</h3>
                    <p>Find out who has played the most on CraftersMC Network!</p>
                    <button onclick="window.location.href = '/playtime.html';">View</button>
                </div>
            </div>
            <div class="event-log-card">
                <img src="Backgrounds/image9489.webp" alt="Slayers Leaderboards"
                    onerror="this.onerror=null;this.src='https://placehold.co/600x400/222/fff?text=Slayers';">
                <div class="event-log-card-content">
                    <h3>Slayers Leaderboards</h3>
                    <p>Find out who is at what position and how much experience they have!</p>
                    <button onclick="window.location.href = '/slayers-leaderboards.html';">View</button>
                </div>
            </div>
        </div>
    </div>
    <div id="footer"></div>
</body>

</html>

